{% extends "layout.html" %}

{% block loading %}
{% endblock %}
{% block body %}

<article class="uk-article">
  <h1 class="uk-heading-divider">What is this ?</h1>
  <p class="uk-text-lead">TensorFlowを用いたポケモン識別器です．</p>
  <p>本モデルは試作段階であり，以下の5種類のポケモンを識別します．</p>
  <p>TensorFlowについては<a href="https://www.tensorflow.org/">こちら</a></p>
  <div class="uk-child-width-1-3@m uk-flex-center" uk-grid>
    <div>
      <div class="uk-card uk-card-default">
        <div class="uk-card-media-top">
          <img src="static/img/img01.png" alt="">
        </div>
        <div class="uk-card-body">
          <h3 class="uk-card-title">フシギソウ</h3>
        </div>
      </div>
    </div>
    <div>
      <div class="uk-card uk-card-default">
        <div class="uk-card-media-top">
          <img src="static/img/img02.png" alt="">
        </div>
        <div class="uk-card-body">
          <h3 class="uk-card-title">リザードン</h3>
        </div>
      </div>
    </div>
    <div>
      <div class="uk-card uk-card-default">
        <div class="uk-card-media-top">
          <img src="static/img/img03.png" alt="">
        </div>
        <div class="uk-card-body">
          <h3 class="uk-card-title">ゼニガメ</h3>
        </div>
      </div>
    </div>
    <div>
      <div class="uk-card uk-card-default">
        <div class="uk-card-media-top">
          <img src="static/img/img04.png" alt="">
        </div>
        <div class="uk-card-body">
          <h3 class="uk-card-title">ピカチュウ</h3>
        </div>
      </div>
    </div>
    <div>
      <div class="uk-card uk-card-default">
        <div class="uk-card-media-top">
          <img src="static/img/img05.png" alt="">
        </div>
        <div class="uk-card-body">
          <h3 class="uk-card-title">ピチュー</h3>
        </div>
      </div>
    </div>
  </div>
</article>

<article class="uk-article">
  <h1 class="uk-heading-divider">How to use ?</h1>
  <p class="uk-text-lead">ファイルを選択してアップロードするだけです．</p>
  <p>※結果の出力には少しだけ時間がかかります．</p>
  <div>
    <div class="uk-card uk-card-default uk-card-body">
      <form id="img" action="/prediction" method="POST" enctype="multipart/form-data">
        <div class="uk-margin" uk-margin>
          <div uk-form-custom="target: true">
            <input type="file" name="img" accept="image/*" required>
            <input class="uk-input uk-form-width-medium" type="text" placeholder="Select file" disabled>
          </div>
          <button class="uk-button uk-button-primary" id="submit">実行</button>
        </div>
      </form>
      <p>※画像は処理終了後に速やかに削除されます．安心してご利用下さい．</p>
    </div>
  </div>

</article>
{% endblock %}
{% block script %}

<script>
  $('form').submit(function (e) {
    e.target.blur();
    UIkit.modal.dialog('<p class="uk-modal-body"><img src="static/img/loading.gif" width="64" height="64" >処理中です</p>');
  })

  const error = '{{ error }}'
  if (error) {
    UIkit.notification(error, 'danger');
  }

</script>
{% endblock %}